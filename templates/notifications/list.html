{% extends 'base.html' %}
{% block title %}Notifications{% endblock %}
{% block content %}
  <div class="border-bottom p-3 d-flex align-items-center justify-content-between" style="background:#ffffff; position: sticky; top: 0; z-index: 1;">
    <div class="fw-bold">Notifications</div>
    <form method="post" action="/notifications/read-all/" class="m-0">
      {% csrf_token %}
      <button class="btn btn-soft btn-sm rounded-pill" type="submit">Mark all read</button>
    </form>
  </div>

  {% for n in items %}
    <div class="tweet-card p-3 d-flex justify-content-between align-items-center {% if not n.read %}unread-notification{% endif %}">
      <div>
        <div>{{ n.message }}</div>
        <div class="text-secondary small">{{ n.created_at|timesince }} ago</div>
      </div>
      {% if n.url %}
        <a class="btn btn-soft btn-sm rounded-pill" href="{{ n.url }}">Open</a>
      {% endif %}
    </div>
  {% empty %}
    <p class="text-secondary p-3">No notifications yet.</p>
  {% endfor %}
{% endblock %}


